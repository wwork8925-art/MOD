{
  "version": 3,
  "sources": ["src/app/components/hostel-list/hostel-list.ts", "src/app/components/hostel-list/hostel-list.html"],
  "sourcesContent": ["import { Component, inject, signal, OnInit } from '@angular/core';\r\nimport { Router, RouterLink } from '@angular/router';\r\nimport { HostelService, Hostel } from '../../services/hostel.service';\r\nimport { AuthService } from '../../services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-hostel-list',\r\n  imports: [RouterLink],\r\n  templateUrl: './hostel-list.html',\r\n  styleUrl: './hostel-list.css',\r\n})\r\nexport class HostelList implements OnInit {\r\n  private hostelService = inject(HostelService);\r\n  auth = inject(AuthService);\r\n  private router = inject(Router);\r\n\r\n  hostels = signal<Hostel[]>([]);\r\n  loading = signal(true);\r\n  error = signal('');\r\n\r\n  ngOnInit(): void {\r\n    this.hostelService.getAll().subscribe({\r\n      next: (data) => {\r\n        this.hostels.set(data);\r\n        this.loading.set(false);\r\n      },\r\n      error: () => {\r\n        this.error.set('تعذر تحميل السكنات. تحقق من تشغيل الخادم');\r\n        this.loading.set(false);\r\n      },\r\n    });\r\n  }\r\n\r\n  getOccupancyPercent(hostel: Hostel): number {\r\n    if (!hostel.capacity) return 0;\r\n    return Math.round((hostel.currentResidents / hostel.capacity) * 100);\r\n  }\r\n\r\n  getOccupancyClass(hostel: Hostel): string {\r\n    const pct = this.getOccupancyPercent(hostel);\r\n    if (pct >= 90) return 'full';\r\n    if (pct >= 60) return 'medium';\r\n    return 'available';\r\n  }\r\n}\r\n", "<div class=\"page-container\">\r\n  <div class=\"page-header\">\r\n    <h1 class=\"section-title\">السكنات المتاحة</h1>\r\n    @if (auth.isAdmin()) {\r\n      <a routerLink=\"/admin\" class=\"btn btn-primary\">\r\n        + إدارة السكنات\r\n      </a>\r\n    }\r\n  </div>\r\n\r\n  @if (loading()) {\r\n    <div class=\"loading-state\">\r\n      <div class=\"spinner\"></div>\r\n      <p>جاري تحميل السكنات...</p>\r\n    </div>\r\n  } @else if (error()) {\r\n    <div class=\"alert alert-error\">{{ error() }}</div>\r\n  } @else if (hostels().length === 0) {\r\n    <div class=\"empty-state\">\r\n      <div class=\"empty-icon\">&#127968;</div>\r\n      <p>لا توجد سكنات متاحة حالياً</p>\r\n    </div>\r\n  } @else {\r\n    <div class=\"hostels-grid\">\r\n      @for (hostel of hostels(); track hostel.hostelName) {\r\n        <a [routerLink]=\"['/hostels', hostel.hostelName]\" class=\"hostel-card card\">\r\n          <div class=\"hostel-image\">\r\n            @if (hostel.imageUrls && hostel.imageUrls.length > 0) {\r\n              <img [src]=\"hostel.imageUrls[0]\" [alt]=\"hostel.hostelName\" />\r\n            } @else {\r\n              <div class=\"no-image\">&#127968;</div>\r\n            }\r\n          </div>\r\n          <div class=\"hostel-info\">\r\n            <h3 class=\"hostel-name\">{{ hostel.hostelName }}</h3>\r\n            <p class=\"hostel-location\">&#128205; {{ hostel.location }}</p>\r\n\r\n            <div class=\"occupancy\">\r\n              <div class=\"occupancy-labels\">\r\n                <span>الإشغال</span>\r\n                <span>{{ hostel.currentResidents }} / {{ hostel.capacity }}</span>\r\n              </div>\r\n              <div class=\"occupancy-bar\">\r\n                <div\r\n                  class=\"occupancy-fill\"\r\n                  [class]=\"getOccupancyClass(hostel)\"\r\n                  [style.width]=\"getOccupancyPercent(hostel) + '%'\"\r\n                ></div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"hostel-footer\">\r\n              <span class=\"occupancy-badge\" [class]=\"'badge-' + getOccupancyClass(hostel)\">\r\n                @if (getOccupancyPercent(hostel) >= 100) {\r\n                  ممتلئ\r\n                } @else if (getOccupancyPercent(hostel) >= 60) {\r\n                  شبه ممتلئ\r\n                } @else {\r\n                  متاح\r\n                }\r\n              </span>\r\n              <span class=\"view-details\">عرض التفاصيل &larr;</span>\r\n            </div>\r\n          </div>\r\n        </a>\r\n      }\r\n    </div>\r\n  }\r\n</div>\r\n"],
  "mappings": "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",
  "names": []
}
